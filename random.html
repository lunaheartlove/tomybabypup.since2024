<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <title>LOVE</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Mali:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html,
        body {
            height: 100%;
        }

        body {
            font-family: 'Mali', cursive;
            background: linear-gradient(to right, #FDC7D7, #FFFFFF, #FDC7D7);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        /* ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏´‡∏•‡∏±‡∏Å */
        .card {
            background: #fff;
            border-radius: 25px;
            padding: 40px 60px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            border: 2px solid #E86C8D;
            max-width: 600px;
            width: 90%;
        }

        .wheel-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 16px;
        }

        h1 {
            color: #5C3A42;
            font-size: 22px;
            margin-bottom: 8px;
        }

        .subtitle {
            margin-bottom: 10px;
            color: #7C6270;
            font-size: 14px;
        }

        /* ‡∏ß‡∏á‡∏•‡πâ‡∏≠ */
        .wheel-container {
            position: relative;
            width: 260px;
            height: 260px;
            margin: 10px 0;
        }

        .wheel {
            position: absolute;
            inset: 0;
            border-radius: 50%;
            border: 4px solid #E86C8D;
            /* 6 Segments: 360/6 = 60 ‡∏≠‡∏á‡∏®‡∏≤‡∏ï‡πà‡∏≠‡∏ä‡∏¥‡πâ‡∏ô */
            background: conic-gradient(#FFD6F4 0deg 60deg,
                    #C8F4FF 60deg 120deg,
                    #FFECC7 120deg 180deg,
                    #FFC2D1 180deg 240deg,
                    #CDEAC0 240deg 300deg,
                    #E2D4FF 300deg 360deg);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.16);
            transition: transform 4s cubic-bezier(.17, .67, .35, 1.28);
        }

        /* ‡∏•‡∏ö‡∏™‡πÑ‡∏ï‡∏•‡πå .segment ‡πÅ‡∏•‡∏∞ .segment-content ‡∏≠‡∏≠‡∏Å‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏Ç‡∏≠ */

        .pointer {
            position: absolute;
            top: -18px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 14px solid transparent;
            border-right: 14px solid transparent;
            border-bottom: 22px solid #E86C8D;
            filter: drop-shadow(0 3px 4px rgba(0, 0, 0, .18));
            z-index: 10;
        }

        .status {
            font-size: 14px;
            color: #5C3A42;
            min-height: 22px;
        }

        .btn-row {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 8px;
        }

        button {
            font-family: 'Mali', cursive;
            padding: 8px 18px;
            border-radius: 999px;
            border: none;
            background: #E86C8D;
            color: #fff;
            font-size: 16px;
            cursor: pointer;
            box-shadow: 0 6px 18px rgba(232, 108, 141, 0.35);
            transition: 0.2s;
        }

        button:hover {
            transform: translateY(-1px);
            box-shadow: 0 8px 22px rgba(232, 108, 141, 0.45);
        }

        button:disabled {
            opacity: 0.7;
            cursor: default;
        }

        /* ============================
            Popup
        ============================ */
        .result-popup {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, .35);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }

        .result-popup.show {
            display: flex;
        }

        .result-box {
            background: #FFF9FF;
            padding: 28px 34px 26px;
            border-radius: 24px;
            text-align: center;
            width: min(320px, 90%);
            box-shadow: 0 12px 28px rgba(0, 0, 0, 0.25);
            position: relative;
            overflow: hidden;
            animation: fadeIn .35s ease;
        }

        .result-title {
            color: #E86C8D;
            font-size: 20px;
            margin-bottom: 6px;
            font-weight: 700;
        }

        .result-message {
            color: #5C3A42;
            font-size: 17px;
            margin-bottom: 18px;
        }

        .result-close {
            font-family: 'Mali', cursive;
            padding: 10px 24px;
            border-radius: 999px;
            border: none;
            background: #E86C8D;
            color: #fff;
            font-size: 18px;
            cursor: pointer;
            box-shadow: 0 6px 18px rgba(232, 108, 141, 0.35);
        }

        .result-close:hover {
            transform: translateY(-1px);
        }

        /* ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏•‡∏≠‡∏¢ ‡πÜ ‡πÉ‡∏ô popup ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå */
        .h {
            position: absolute;
            font-size: 18px;
            opacity: 0;
            animation: floatHeart 2.5s ease-in-out infinite;
        }

        /* ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á + delay ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏î‡∏ß‡∏á */
        .h.h1 {
            left: 15%;
            bottom: -10px;
            animation-delay: 0s;
        }

        .h.h2 {
            right: 10%;
            bottom: -10px;
            animation-delay: 0.4s;
        }

        .h.h3 {
            left: 50%;
            bottom: -10px;
            animation-delay: 0.8s;
        }

        /* keyframes ‡πÉ‡∏´‡πâ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏•‡∏≠‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô */
        @keyframes floatHeart {
            0% {
                transform: translateY(0) scale(0.9);
                opacity: 0;
            }

            20% {
                opacity: 1;
            }

            80% {
                opacity: 1;
            }

            100% {
                transform: translateY(-80px) scale(1.2);
                opacity: 0;
            }
        }


        /* ============================
            Responsive Breakpoints
        ============================ */

        /* ---------- ‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡πÄ‡∏•‡πá‡∏Å‡∏°‡∏≤‡∏Å (‚â§ 360px) ---------- */
        @media (max-width: 360px) {

            .card {
                width: min(94vw, 520px);
                padding: 24px 18px;
                border-radius: 20px;
                box-shadow: 0 8px 20px rgba(0, 0, 0, .12);
            }

            h1 {
                font-size: 18px;
                margin-bottom: 6px;
            }

            .subtitle {
                font-size: 13px;
                margin-bottom: 8px;
            }

            .wheel-container {
                width: 200px;
                height: 200px;
            }

            .wheel {
                border-width: 3px;
            }

            .status {
                font-size: 13px;
            }

            button {
                font-size: 15px;
                padding: 7px 16px;
            }

            .result-box {
                width: 88%;
                padding: 24px 20px;
            }

            .result-title {
                font-size: 18px;
            }

            .result-message {
                font-size: 15px;
            }

            .result-close {
                font-size: 16px;
                padding: 8px 20px;
            }
        }



        /* ---------- ‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ (361‚Äì480px) ---------- */
        @media (min-width: 361px) and (max-width: 480px) {

            .card {
                width: min(92vw, 560px);
                padding: 28px 22px;
                border-radius: 22px;
            }

            h1 {
                font-size: 20px;
            }

            .wheel-container {
                width: 225px;
                height: 225px;
            }

            .result-box {
                width: 85%;
                padding: 26px 22px;
            }
        }


        /* ---------- ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏à‡∏≠‡πÉ‡∏´‡∏ç‡πà / Phablet (481‚Äì599px) ---------- */
        @media (min-width: 481px) and (max-width: 599px) {

            .card {
                width: min(88vw, 600px);
                padding: 32px 30px;
                border-radius: 24px;
            }

            h1 {
                font-size: 22px;
            }

            .wheel-container {
                width: 250px;
                height: 250px;
            }

            .result-box {
                width: 80%;
                padding: 30px 28px;
            }
        }



        /* ---------- Tablet (600‚Äì1024px) ---------- */
        @media (min-width: 600px) and (max-width: 1024px) {

            .card {
                width: min(76vw, 680px);
                padding: 36px 40px;
                border-radius: 25px;
            }

            h1 {
                font-size: 24px;
            }

            .wheel-container {
                width: 280px;
                height: 280px;
            }

            .result-box {
                width: 75%;
                padding: 32px 30px;
            }
        }


        /* ---------- ‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏ô‡πâ‡∏≠‡∏¢ (Landscape ‚â§420px) ---------- */
        @media (orientation: landscape) and (max-height: 420px) {

            body {
                padding-top: 12px;
                padding-bottom: 12px;
                justify-content: flex-start;
            }

            .card {
                width: min(86vw, 640px);
                padding: 20px 18px;
                border-radius: 18px;
            }

            .wheel-container {
                width: 180px;
                height: 180px;
                margin: 6px 0;
            }

            h1 {
                font-size: 18px;
            }

            .result-box {
                width: 80%;
                padding: 22px 20px;
            }

            .result-message {
                font-size: 15px;
            }
        }



        /* ---------- ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà‡∏•‡∏î Motion ---------- */
        @media (prefers-reduced-motion: reduce) {
            .wheel {
                transition: none !important;
            }

            .result-box {
                animation: none !important;
            }

            button {
                transition: none !important;
            }
        }
    </style>
</head>

<body>

    <div class="card wheel-wrapper">
        <h1>‡∏ß‡∏á‡∏•‡πâ‡∏≠‡∏ï‡∏≤‡∏°‡πÉ‡∏à</h1>
        <p class="subtitle">‡∏´‡∏°‡∏∏‡∏ô‡∏ß‡∏á‡∏•‡πâ‡∏≠‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏Ñ‡∏õ‡∏ú‡∏•‡∏™‡πà‡∏á‡∏°‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢</p>

        <div class="wheel-container">
            <div class="pointer"></div>
            <div id="wheel" class="wheel">
            </div>
        </div>

        <div class="status" id="statusText">‡∏Å‡∏î "‡∏´‡∏°‡∏∏‡∏ô‡∏ß‡∏á‡∏•‡πâ‡∏≠" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô</div>

        <div class="btn-row">
            <button id="spinBtn">‡∏´‡∏°‡∏∏‡∏ô‡∏ß‡∏á‡∏•‡πâ‡∏≠</button>
            <button onclick="window.location.href='menu.html'">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π</button>
        </div>
    </div>

    <div id="resultPopup" class="result-popup">
        <div class="result-box">

            <div class="h h1">üíñ</div>
            <div class="h h2">üíï</div>
            <div class="h h3">üíò</div>


            <div class="result-title">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ç‡∏≠‡∏á‡∏ß‡∏á‡∏•‡πâ‡∏≠‡∏Ñ‡∏∑‡∏≠‚Ä¶</div>
            <div id="popupResult" class="result-message"></div>

            <button class="result-close" onclick="closePopup()">‡∏õ‡∏¥‡∏î</button>
        </div>
    </div>

    <script>
        const wheel = document.getElementById('wheel');
        const spinBtn = document.getElementById('spinBtn');
        const statusText = document.getElementById('statusText');

        const resultPopup = document.getElementById("resultPopup");
        const popupResult = document.getElementById("popupResult");

        // ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å (6 ‡∏ä‡∏¥‡πâ‡∏ô)
        // ‡∏≠‡∏¥‡∏≠‡∏¥
        const options = [
            "‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏≠‡∏¢‡πà‡∏≠‡∏¢‡πÜ",
            "‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡πâ‡∏á‡∏ö 500",
            "‡∏ï‡∏≤‡∏°‡πÉ‡∏à 1 ‡∏ß‡∏±‡∏ô",
            "‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏ä‡∏≤‡∏ô‡∏°/‡∏Ç‡∏ô‡∏°‡∏´‡∏ß‡∏≤‡∏ô",
            "‡πÉ‡∏´‡πâ‡∏Å‡∏¥‡∏á‡πÄ‡∏õ‡πä‡∏õ‡∏ã‡∏µ‡πà‡πÑ‡∏î‡πâ",
            "‡πÉ‡∏´‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏° 1 ‡∏ß‡∏µ‡∏Ñ‡πÄ‡∏ï‡πá‡∏°‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏á‡∏≠‡πÅ‡∏á"
        ];


        let isSpinning = false;
        let currentRotation = 0;

        // *** ‡∏•‡∏ö‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô createWheelSegments() ‡∏≠‡∏≠‡∏Å‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏Ç‡∏≠ ***

        spinBtn.addEventListener('click', () => {
            if (isSpinning) return;
            isSpinning = true;
            spinBtn.disabled = true;
            statusText.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏´‡∏°‡∏∏‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ô‡πâ‡∏≤ ‡∏£‡∏≠‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÅ‡∏õ‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ß';

            const segments = options.length;
            const segmentAngle = 360 / segments;

            // ‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏´‡∏¢‡∏∏‡∏î (0-5)
            const selectedIndex = Math.floor(Math.random() * segments);

            // 3-5 ‡∏£‡∏≠‡∏ö‡πÄ‡∏ï‡πá‡∏°
            const extraTurns = 3 + Math.floor(Math.random() * 3);

            // ‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ (Pointer) ‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà 12 ‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤ (0 ‡∏≠‡∏á‡∏®‡∏≤) ‡πÅ‡∏ï‡πà‡πÇ‡∏Ñ‡πâ‡∏î‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å 3 ‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤ (90 ‡∏≠‡∏á‡∏®‡∏≤) 
            const pointerAngle = 90;

            // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏∏‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏ä‡∏¥‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
            const targetSegmentCenter = selectedIndex * segmentAngle + segmentAngle / 2;

            // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏∏‡∏ô
            const finalRotation =
                currentRotation +
                extraTurns * 360 +
                (pointerAngle - targetSegmentCenter);

            currentRotation = finalRotation;
            wheel.style.transform = `rotate(${finalRotation}deg)`;
        });

        wheel.addEventListener('transitionend', () => {
            const segments = options.length;
            const segmentAngle = 360 / segments;
            const pointerAngle = 90;

            // ‡πÅ‡∏õ‡∏•‡∏á currentRotation ‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á 0-359 ‡∏≠‡∏á‡∏®‡∏≤ (‡∏ó‡∏ß‡∏ô‡πÄ‡∏Ç‡πá‡∏°‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤)
            let normalized = ((currentRotation % 360) + 360) % 360;

            // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏°‡∏∏‡∏°‡∏ó‡∏µ‡πà‡∏ä‡∏µ‡πâ‡∏ï‡∏£‡∏á‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ
            const angleAtPointer = (pointerAngle - normalized + 360) % 360;

            // ‡∏´‡∏≤ index ‡∏Ç‡∏≠‡∏á‡∏ä‡∏¥‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ä‡∏µ‡πâ
            const index = Math.floor(angleAtPointer / segmentAngle);

            const choice = options[index];

            // ‡πÄ‡∏õ‡∏¥‡∏î popup
            popupResult.textContent = choice;
            resultPopup.classList.add("show");
            statusText.textContent = `‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ñ‡∏∑‡∏≠: ${choice}!`;

            spinBtn.disabled = false;
            isSpinning = false;
        });

        function closePopup() {
            resultPopup.classList.remove("show");
        }

        // *** ‡∏•‡∏ö Event Listener ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö resize ‡∏≠‡∏≠‡∏Å‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏Ç‡∏≠ ***
    </script>

</body>

</html>